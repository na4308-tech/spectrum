<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë™í–¥ì¡°ì‚¬ ë¸Œë¦¬í•‘ - ê·€ì—¬ìš´ ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ë°°ìš°ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'styreneB', -apple-system, BlinkMacSystemFont, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: rgb(40, 44, 52);
            min-height: 100vh;
            color: rgb(171, 178, 191);
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
        }

        .header {
            text-align: center;
            margin-bottom: 60px;
            color: rgb(171, 178, 191);
            position: relative;
            padding-top: 80px;
        }

        .header h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: rgb(255, 255, 255);
            font-weight: 500;
            letter-spacing: -0.025em;
            line-height: 1.1;
        }

        .header p {
            font-size: 1.4rem;
            color: rgb(156, 163, 175);
            font-weight: 400;
            line-height: 1.5;
        }

        .user-info {
            position: absolute;
            top: 15px;
            right: 30px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 16px;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            backdrop-filter: blur(15px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
            z-index: 100;
        }

        .user-info:hover {
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 16px 50px rgba(0, 0, 0, 0.5);
        }

        .user-avatar {
            width: 52px;
            height: 52px;
            background: linear-gradient(135deg, rgb(198, 120, 221), rgb(86, 182, 194));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.4rem;
            border: 3px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 20px rgba(198, 120, 221, 0.3);
            transition: all 0.3s ease;
        }

        .user-info:hover .user-avatar {
            transform: scale(1.05);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 6px 25px rgba(198, 120, 221, 0.4);
        }

        .user-details {
            text-align: right;
        }

        .user-name {
            font-weight: 600;
            color: rgb(255, 255, 255);
            font-size: 1.1rem;
            margin-bottom: 4px;
            letter-spacing: 0.02em;
        }

        .user-dept {
            color: rgb(156, 163, 175);
            font-size: 0.9rem;
            opacity: 0.9;
            font-weight: 500;
        }

        .logout-btn {
            background: rgba(224, 108, 117, 0.2);
            color: rgb(224, 108, 117);
            border: 1px solid rgba(224, 108, 117, 0.3);
            border-radius: 10px;
            padding: 10px 18px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .logout-btn:hover {
            background: rgba(224, 108, 117, 0.3);
            border-color: rgba(224, 108, 117, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(224, 108, 117, 0.3);
        }

        .character-selector {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-bottom: 50px;
        }

        .character-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px 28px;
            font-size: 1.1rem;
            font-weight: 500;
            color: rgb(171, 178, 191);
            cursor: pointer;
            transition: all 0.2s ease;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .character-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .character-btn.active {
            background: rgb(198, 120, 221);
            color: white;
            border-color: rgb(198, 120, 221);
            box-shadow: 0 8px 25px rgba(198, 120, 221, 0.3);
        }

        .trend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .trend-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            overflow: hidden;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .trend-card:hover {
            transform: translateY(-4px);
            border-color: rgba(255, 255, 255, 0.15);
            box-shadow: 0 16px 40px rgba(0, 0, 0, 0.3);
            background: rgba(255, 255, 255, 0.05);
        }

        .video-preview {
            width: 100%;
            height: 220px;
            background: linear-gradient(135deg, rgb(198, 120, 221), rgb(86, 182, 194));
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .character-avatar {
            width: 88px;
            height: 88px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 3px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            margin-bottom: 12px;
            backdrop-filter: blur(10px);
        }

        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 68px;
            height: 68px;
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            color: rgb(255, 255, 255);
            backdrop-filter: blur(10px);
            transition: all 0.2s ease;
        }

        .card-content {
            padding: 24px;
        }

        .card-content h3 {
            font-size: 1.4rem;
            margin-bottom: 12px;
            color: rgb(255, 255, 255);
            font-weight: 600;
            line-height: 1.3;
        }

        .card-content p {
            color: rgb(156, 163, 175);
            line-height: 1.6;
            margin-bottom: 18px;
            font-size: 1rem;
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.95rem;
            color: rgb(156, 163, 175);
            margin-bottom: 16px;
        }

        .difficulty {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .difficulty.easy { 
            background: rgba(152, 195, 121, 0.2); 
            color: rgb(152, 195, 121); 
            border-color: rgba(152, 195, 121, 0.3);
        }
        .difficulty.medium { 
            background: rgba(230, 192, 123, 0.2); 
            color: rgb(230, 192, 123); 
            border-color: rgba(230, 192, 123, 0.3);
        }
        .difficulty.hard { 
            background: rgba(224, 108, 117, 0.2); 
            color: rgb(224, 108, 117); 
            border-color: rgba(224, 108, 117, 0.3);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, rgb(198, 120, 221), rgb(86, 182, 194));
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .quiz-section {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 36px;
            margin-top: 50px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.show {
            opacity: 1;
        }

        .modal-container {
            background: rgb(40, 44, 52);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow: hidden;
            transform: scale(0.9);
            transition: transform 0.3s ease;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }

        .modal-overlay.show .modal-container {
            transform: scale(1);
        }

        .modal-header {
            background: rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 24px 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            color: rgb(255, 255, 255);
            font-size: 1.6rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .modal-close {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            color: rgb(255, 255, 255);
            font-size: 1.2rem;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .modal-content {
            padding: 32px;
            max-height: calc(90vh - 120px);
            overflow-y: auto;
        }

        .modal-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 32px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 16px;
        }

        .modal-tab {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px 24px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: rgb(171, 178, 191);
            font-weight: 500;
            font-size: 0.95rem;
        }

        .modal-tab:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .modal-tab.active {
            background: rgb(198, 120, 221);
            color: white;
            border-color: rgb(198, 120, 221);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* ë¹„ë””ì˜¤ ì„¹ì…˜ */
        .video-section {
            text-align: center;
            margin-bottom: 32px;
        }

        .video-player {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, rgb(198, 120, 221), rgb(86, 182, 194));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            margin-bottom: 24px;
            overflow: hidden;
        }

        .video-placeholder {
            text-align: center;
            color: white;
        }

        .video-placeholder h3 {
            font-size: 1.4rem;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .video-placeholder p {
            font-size: 1rem;
            opacity: 0.9;
        }

        .video-controls {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-top: 20px;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            padding: 12px 20px;
            color: white;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }

        /* AI ë™ì˜ìƒ ìƒì„± í¼ */
        .ai-video-form {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            text-align: left;
        }

        .ai-video-form h3 {
            color: white;
            margin-bottom: 20px;
            font-size: 1.3rem;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: rgb(171, 178, 191);
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            font-size: 0.95rem;
            transition: all 0.2s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: rgb(198, 120, 221);
            background: rgba(255, 255, 255, 0.15);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-actions {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin-top: 24px;
        }

        .generate-btn,
        .api-key-btn {
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 160px;
        }

        .generate-btn {
            background: linear-gradient(135deg, rgb(198, 120, 221), rgb(86, 182, 194));
            color: white;
        }

        .generate-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(198, 120, 221, 0.4);
        }

        .generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .api-key-btn {
            background: rgba(255, 255, 255, 0.1);
            color: rgb(171, 178, 191);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .api-key-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        /* ìƒì„± ì§„í–‰ë¥  */
        .generation-progress {
            text-align: center;
            margin: 24px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 16px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, rgb(198, 120, 221), rgb(86, 182, 194));
            width: 0%;
            animation: progressAnimation 2s ease-in-out infinite;
        }

        @keyframes progressAnimation {
            0% { width: 0%; }
            50% { width: 70%; }
            100% { width: 100%; }
        }

        .generation-progress p {
            color: rgb(171, 178, 191);
            font-size: 1rem;
        }

        /* API í‚¤ ì„¤ì • ëª¨ë‹¬ */
        .api-key-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .api-key-content {
            background: rgb(40, 44, 52);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 32px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .api-key-content h3 {
            color: white;
            margin-bottom: 16px;
            text-align: center;
            font-size: 1.4rem;
        }

        .api-key-content p {
            color: rgb(171, 178, 191);
            margin-bottom: 24px;
            text-align: center;
            line-height: 1.5;
        }

        .api-key-content .form-actions {
            margin-top: 24px;
        }

        .save-btn,
        .cancel-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 100px;
        }

        .save-btn {
            background: rgb(86, 182, 194);
            color: white;
        }

        .save-btn:hover {
            background: rgb(76, 172, 184);
            transform: translateY(-2px);
        }

        .cancel-btn {
            background: rgba(255, 255, 255, 0.1);
            color: rgb(171, 178, 191);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .cancel-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .api-key-help {
            margin-top: 24px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .api-key-help p {
            margin-bottom: 12px;
            color: white;
            font-weight: 600;
        }

        .api-key-help ol {
            color: rgb(171, 178, 191);
            padding-left: 20px;
            line-height: 1.6;
        }

        .api-key-help a {
            color: rgb(86, 182, 194);
            text-decoration: none;
        }

        .api-key-help a:hover {
            text-decoration: underline;
        }

        /* ìš”ì•½ ì„¹ì…˜ */
        .summary-section {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .summary-section h3 {
            color: rgb(255, 255, 255);
            font-size: 1.3rem;
            margin-bottom: 16px;
            font-weight: 600;
        }

        .summary-content {
            color: rgb(156, 163, 175);
            line-height: 1.6;
        }

        /* í€´ì¦ˆ ì„¹ì…˜ */
        .modal-quiz-section {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 24px;
        }

        .modal-quiz-section h3 {
            color: rgb(255, 255, 255);
            font-size: 1.3rem;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .modal-quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .modal-quiz-option {
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: rgb(171, 178, 191);
            font-weight: 500;
        }

        .modal-quiz-option:hover {
            border-color: rgb(198, 120, 221);
            background: rgba(198, 120, 221, 0.1);
            color: rgb(255, 255, 255);
            transform: translateX(4px);
        }

        .modal-quiz-option.correct {
            border-color: rgb(152, 195, 121);
            background: rgba(152, 195, 121, 0.15);
            color: rgb(152, 195, 121);
        }

        .modal-quiz-option.incorrect {
            border-color: rgb(224, 108, 117);
            background: rgba(224, 108, 117, 0.15);
            color: rgb(224, 108, 117);
        }

        .explanation {
            background: rgba(198, 120, 221, 0.1);
            border: 1px solid rgba(198, 120, 221, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            color: rgb(198, 120, 221);
            display: none;
        }

        .explanation.show {
            display: block;
        }

        /* ì§„í–‰ë¥  í‘œì‹œ */
        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            color: rgb(156, 163, 175);
            font-size: 0.9rem;
        }

        .completion-btn {
            background: rgb(198, 120, 221);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 14px 28px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 20px;
            width: 100%;
        }

        .completion-btn:hover {
            background: rgb(209, 154, 102);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(198, 120, 221, 0.3);
        }

        .quiz-section h2 {
            text-align: center;
            margin-bottom: 24px;
            color: rgb(255, 255, 255);
            font-size: 1.8rem;
            font-weight: 600;
        }

        .quiz-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 24px;
        }

        .quiz-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 24px;
            border-left: 4px solid rgb(198, 120, 221);
            backdrop-filter: blur(10px);
            transition: all 0.2s ease;
        }

        .quiz-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        .quiz-card h4 {
            margin-bottom: 18px;
            color: rgb(255, 255, 255);
            font-size: 1.2rem;
            font-weight: 600;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quiz-option {
            padding: 14px 18px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: rgb(171, 178, 191);
            font-weight: 500;
        }

        .quiz-option:hover {
            border-color: rgb(198, 120, 221);
            background: rgba(198, 120, 221, 0.1);
            color: rgb(255, 255, 255);
            transform: translateX(4px);
        }

        .quiz-option.correct {
            border-color: rgb(152, 195, 121);
            background: rgba(152, 195, 121, 0.15);
            color: rgb(152, 195, 121);
        }

        .quiz-option.incorrect {
            border-color: rgb(224, 108, 117);
            background: rgba(224, 108, 117, 0.15);
            color: rgb(224, 108, 117);
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            
            .header h1 {
                font-size: 2.5rem;
            }
            
            .trend-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .character-selector {
                flex-direction: column;
                align-items: center;
                gap: 16px;
            }
            
            .user-info {
                position: relative;
                top: auto;
                right: auto;
                margin: 0 auto 30px;
                width: fit-content;
                padding: 16px 20px;
            }
            
            .header {
                padding-top: 20px;
            }
            
            .user-avatar {
                width: 44px;
                height: 44px;
                font-size: 1.2rem;
            }
            
            .user-name {
                font-size: 1rem;
            }
            
            .user-dept {
                font-size: 0.85rem;
            }
            
            .logout-btn {
                padding: 8px 16px;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="user-info" id="userInfo">
                <div class="user-avatar" id="userAvatar">ê¹€</div>
                <div class="user-details">
                    <div class="user-name" id="userName">ê¹€ì „íŒŒ</div>
                    <div class="user-dept" id="userDept">ì „íŒŒê¸°ìˆ íŒ€</div>
                </div>
                <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
            </div>
            <h1>ğŸ±ğŸ• ì „íŒŒ ë™í–¥ì¡°ì‚¬ ë¸Œë¦¬í•‘</h1>
            <p>ê·€ì—¬ìš´ ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ì¬ë¯¸ìˆê²Œ ë°°ìš°ëŠ” ì „íŒŒ ê¸°ìˆ  ë™í–¥</p>
        </div>

        <div class="character-selector">
            <button class="character-btn active" onclick="selectCharacter('cat')">
                ğŸ± ê³ ì–‘ì´ì™€ í•¨ê»˜
            </button>
            <button class="character-btn" onclick="selectCharacter('dog')">
                ğŸ• ê°•ì•„ì§€ì™€ í•¨ê»˜
            </button>
        </div>

        <div class="trend-grid" id="trendGrid">
            <!-- ë™í–¥ì¡°ì‚¬ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
        </div>

        <div class="quiz-section">
            <h2>ğŸ“š ì˜¤ëŠ˜ì˜ ë³µìŠµ í€´ì¦ˆ</h2>
            <div class="quiz-grid" id="quizGrid">
                <!-- í€´ì¦ˆ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <!-- ë™í–¥ì¡°ì‚¬ ëª¨ë‹¬ -->
    <div class="modal-overlay" id="trendModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title" id="modalTitle">
                    <span id="modalCharacter">ğŸ±</span>
                    <span id="modalTitleText">ë™í–¥ì¡°ì‚¬ ì œëª©</span>
                </div>
                <button class="modal-close" onclick="closeTrendModal()">Ã—</button>
            </div>
            
            <div class="modal-content">
                <div class="modal-tabs">
                    <div class="modal-tab active" onclick="switchTab('video')">ğŸ¬ ë™ì˜ìƒ</div>
                    <div class="modal-tab" onclick="switchTab('summary')">ğŸ“ ìš”ì•½</div>
                    <div class="modal-tab" onclick="switchTab('quiz')">â“ í€´ì¦ˆ</div>
                </div>

                <!-- ë™ì˜ìƒ íƒ­ -->
                <div class="tab-content active" id="videoTab">
                    <div class="video-section">
                        <!-- AI ë™ì˜ìƒ ìƒì„± í¼ -->
                        <div class="ai-video-form" id="aiVideoForm">
                            <h3>ğŸ¤– AI ë™ì˜ìƒ ìƒì„±</h3>
                            <div class="form-group">
                                <label for="videoPrompt">ë™ì˜ìƒ ì„¤ëª…:</label>
                                <textarea id="videoPrompt" placeholder="ì˜ˆ: ê³ ì–‘ì´ê°€ 6G ì „íŒŒ ê¸°ìˆ ì„ ì„¤ëª…í•˜ëŠ” ì• ë‹ˆë©”ì´ì…˜" rows="3"></textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="videoDuration">ê¸¸ì´ (ì´ˆ):</label>
                                    <select id="videoDuration">
                                        <option value="5">5ì´ˆ</option>
                                        <option value="10" selected>10ì´ˆ</option>
                                        <option value="15">15ì´ˆ</option>
                                        <option value="20">20ì´ˆ</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="videoQuality">í’ˆì§ˆ:</label>
                                    <select id="videoQuality">
                                        <option value="standard">í‘œì¤€</option>
                                        <option value="high" selected>ê³ í’ˆì§ˆ</option>
                                        <option value="ultra">ì´ˆê³ í’ˆì§ˆ</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button class="generate-btn" onclick="generateAIVideo()" id="generateBtn">ğŸ¬ AI ë™ì˜ìƒ ìƒì„±</button>
                                <button class="api-key-btn" onclick="showApiKeyModal()">ğŸ”‘ API í‚¤ ì„¤ì •</button>
                            </div>
                        </div>

                        <!-- ë™ì˜ìƒ í”Œë ˆì´ì–´ -->
                        <div class="video-player" id="videoPlayer" style="display: none;">
                            <div class="video-placeholder" id="videoPlaceholder">
                                <h3>AIê°€ ìƒì„±í•œ ë™ì˜ìƒ</h3>
                                <p id="videoDescription">ë™ì˜ìƒì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤</p>
                                <video id="generatedVideo" controls style="width: 100%; height: 100%; object-fit: contain;">
                                    <source src="" type="video/mp4">
                                    ë¸Œë¼ìš°ì €ê°€ ë¹„ë””ì˜¤ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                                </video>
                            </div>
                        </div>

                        <!-- ë™ì˜ìƒ ì»¨íŠ¸ë¡¤ -->
                        <div class="video-controls" id="videoControls" style="display: none;">
                            <button class="control-btn" onclick="playVideo()">â–¶ï¸ ì¬ìƒ</button>
                            <button class="control-btn" onclick="pauseVideo()">â¸ï¸ ì¼ì‹œì •ì§€</button>
                            <button class="control-btn" onclick="resetVideo()">ğŸ”„ ë‹¤ì‹œë³´ê¸°</button>
                            <button class="control-btn" onclick="downloadVideo()">ğŸ’¾ ë‹¤ìš´ë¡œë“œ</button>
                        </div>

                        <!-- ìƒì„± ì§„í–‰ë¥  í‘œì‹œ -->
                        <div class="generation-progress" id="generationProgress" style="display: none;">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <p id="progressText">ë™ì˜ìƒì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
                        </div>
                    </div>
                </div>

                <!-- ìš”ì•½ íƒ­ -->
                <div class="tab-content" id="summaryTab">
                    <div class="summary-section">
                        <h3>ğŸ“š í•™ìŠµ ë‚´ìš© ìš”ì•½</h3>
                        <div class="summary-content" id="summaryContent">
                            <!-- ìš”ì•½ ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                </div>

                <!-- í€´ì¦ˆ íƒ­ -->
                <div class="tab-content" id="quizTab">
                    <div class="modal-quiz-section">
                        <h3>â“ í•™ìŠµ í™•ì¸ í€´ì¦ˆ</h3>
                        <div class="modal-quiz-options" id="modalQuizOptions">
                            <!-- í€´ì¦ˆ ì˜µì…˜ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                        </div>
                        <div class="explanation" id="modalExplanation">
                            <!-- ì •ë‹µ ì„¤ëª…ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                </div>

                <!-- ì§„í–‰ë¥  ë° ì™„ë£Œ ë²„íŠ¼ -->
                <div class="progress-info">
                    <span>ì§„í–‰ë¥ : <span id="modalProgress">0</span>%</span>
                    <span id="modalDuration">â±ï¸ 4ë¶„</span>
                </div>
                <button class="completion-btn" onclick="completeTrend()">âœ… í•™ìŠµ ì™„ë£Œí•˜ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // ë™í–¥ì¡°ì‚¬ ë°ì´í„°
        const trendData = [
            {
                id: 1,
                title: "6G ì „íŒŒ ê¸°ìˆ  ë°œì „ ë™í–¥",
                description: "2024-2025ë…„ 6G ì „íŒŒ ê¸°ìˆ ì˜ í•µì‹¬ ìš”ì†Œì™€ êµ­ì œ í‘œì¤€í™” ë™í–¥ì„ ë¶„ì„í•©ë‹ˆë‹¤.",
                duration: "4ë¶„",
                difficulty: "hard",
                category: "ì „íŒŒê¸°ìˆ ",
                progress: 0,
                character: "cat"
            },
            {
                id: 2,
                title: "ìŠ¤í™íŠ¸ëŸ¼ ì •ì±… ë° í• ë‹¹ í˜„í™©",
                description: "5G/6G ì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ ì£¼íŒŒìˆ˜ ëŒ€ì—­ í• ë‹¹ê³¼ ìŠ¤í™íŠ¸ëŸ¼ ì •ì±…ì˜ ìµœì‹  ë™í–¥ì„ ì‚´í´ë´…ë‹ˆë‹¤.",
                duration: "5ë¶„",
                difficulty: "medium",
                category: "ì „íŒŒì •ì±…",
                progress: 0,
                character: "dog"
            },
            {
                id: 3,
                title: "ì „íŒŒí™˜ê²½ ë³€í™”ì™€ ì „ìíŒŒ ì•ˆì „",
                description: "ì¦ê°€í•˜ëŠ” ì „íŒŒ í™˜ê²½ì—ì„œì˜ ì „ìíŒŒ ì•ˆì „ ê¸°ì¤€ê³¼ ë³´í˜¸ ì •ì±…ì„ ë¶„ì„í•©ë‹ˆë‹¤.",
                duration: "4ë¶„",
                difficulty: "medium",
                category: "ì „íŒŒì•ˆì „",
                progress: 0,
                character: "cat"
            },
            {
                id: 4,
                title: "ìœ„ì„±í†µì‹  ë° ìš°ì£¼ ì „íŒŒ ê¸°ìˆ ",
                description: "ìŠ¤íƒ€ë§í¬, ì›ì›¹ ë“± ìœ„ì„±í†µì‹  ì„œë¹„ìŠ¤ì™€ ìš°ì£¼ ì „íŒŒ ê¸°ìˆ ì˜ ë°œì „ ë°©í–¥ì„ íƒêµ¬í•©ë‹ˆë‹¤.",
                duration: "6ë¶„",
                difficulty: "hard",
                category: "ìœ„ì„±í†µì‹ ",
                progress: 0,
                character: "dog"
            },
            {
                id: 5,
                title: "IoT ë° ì‚¬ë¬¼ì¸í„°ë„· ì „íŒŒ í™˜ê²½",
                description: "IoT ê¸°ê¸° ì¦ê°€ì— ë”°ë¥¸ ì „íŒŒ í™˜ê²½ ë³€í™”ì™€ ìŠ¤ë§ˆíŠ¸ì‹œí‹° ì „íŒŒ ì¸í”„ë¼ êµ¬ì¶• í˜„í™©ì„ ë¶„ì„í•©ë‹ˆë‹¤.",
                duration: "4ë¶„",
                difficulty: "easy",
                category: "IoTì „íŒŒ",
                progress: 0,
                character: "cat"
            },
            {
                id: 6,
                title: "ì „íŒŒ ê°„ì„­ ë° í•´ê²° ë°©ì•ˆ",
                description: "ì¦ê°€í•˜ëŠ” ì „íŒŒ ê°„ì„­ ë¬¸ì œì™€ ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ê¸°ìˆ ì , ì •ì±…ì  ë°©ì•ˆì„ ì‚´í´ë´…ë‹ˆë‹¤.",
                duration: "5ë¶„",
                difficulty: "medium",
                category: "ì „íŒŒê°„ì„­",
                progress: 0,
                character: "dog"
            },
            {
                id: 7,
                title: "ì°¨ì„¸ëŒ€ ì´ë™í†µì‹  í‘œì¤€í™” ë™í–¥",
                description: "3GPPë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•œ 5G Advanced, 6G í‘œì¤€í™” ì§„í–‰ ìƒí™©ê³¼ ì£¼ìš” ê¸°ìˆ  ìš”ì†Œë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.",
                duration: "6ë¶„",
                difficulty: "hard",
                category: "í‘œì¤€í™”",
                progress: 0,
                character: "cat"
            },
            {
                id: 8,
                title: "ì „íŒŒ ì‚°ì—… ìƒíƒœê³„ ë³€í™”",
                description: "ì „íŒŒ ì‚°ì—…ì˜ ë””ì§€í„¸ ì „í™˜ê³¼ ìƒˆë¡œìš´ ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸, ì‹œì¥ êµ¬ì¡° ë³€í™”ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.",
                duration: "4ë¶„",
                difficulty: "medium",
                category: "ì‚°ì—…ë™í–¥",
                progress: 0,
                character: "dog"
            }
        ];

        // í€´ì¦ˆ ë°ì´í„°
        const quizData = [
            {
                id: 1,
                question: "6G ì „íŒŒ ê¸°ìˆ ì˜ í•µì‹¬ ì£¼íŒŒìˆ˜ ëŒ€ì—­ì€?",
                options: ["Sub-6GHz", "28GHz", "100GHz ì´ìƒ", "2.4GHz"],
                correct: 2,
                explanation: "6GëŠ” 100GHz ì´ìƒì˜ í…Œë¼í—¤ë¥´ì¸  ëŒ€ì—­ì„ í™œìš©í•˜ì—¬ ì´ˆê³ ì†, ì´ˆì €ì§€ì—° í†µì‹ ì„ êµ¬í˜„í•©ë‹ˆë‹¤."
            },
            {
                id: 2,
                question: "ìŠ¤í™íŠ¸ëŸ¼ í• ë‹¹ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê³ ë ¤ì‚¬í•­ì€?",
                options: ["ê²½ì œì  ê°€ì¹˜", "ê¸°ìˆ ì  íš¨ìœ¨ì„±", "êµ­ì œ í‘œì¤€í™”", "ëª¨ë“  ìœ„ ìš”ì†Œ"],
                correct: 3,
                explanation: "ìŠ¤í™íŠ¸ëŸ¼ í• ë‹¹ì€ ê²½ì œì  ê°€ì¹˜, ê¸°ìˆ ì  íš¨ìœ¨ì„±, êµ­ì œ í‘œì¤€í™”ë¥¼ ëª¨ë‘ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤."
            },
            {
                id: 3,
                question: "ì „ìíŒŒ ì•ˆì „ ê¸°ì¤€ì„ ì •í•˜ëŠ” êµ­ì œ ê¸°êµ¬ëŠ”?",
                options: ["ITU", "WHO", "ICNIRP", "3GPP"],
                correct: 2,
                explanation: "ICNIRP(êµ­ì œë¹„ì´ì˜¨í™”ë°©ì‚¬ì„ ë°©í˜¸ìœ„ì›íšŒ)ê°€ ì „ìíŒŒ ì•ˆì „ ê¸°ì¤€ì„ ì œì •í•©ë‹ˆë‹¤."
            },
            {
                id: 4,
                question: "ìœ„ì„±í†µì‹ ì—ì„œ ê°€ì¥ í° ê¸°ìˆ ì  ë„ì „ì€?",
                options: ["ë¹„ìš©", "ì§€ì—°ì‹œê°„", "ëŒ€ì—­í­", "ì‹ í˜¸ ê°•ë„"],
                correct: 1,
                explanation: "ìœ„ì„±í†µì‹ ì€ ì§€êµ¬ì™€ ìœ„ì„± ê°„ì˜ ê±°ë¦¬ë¡œ ì¸í•œ ì§€ì—°ì‹œê°„ì´ ê°€ì¥ í° ê¸°ìˆ ì  ë„ì „ì…ë‹ˆë‹¤."
            },
            {
                id: 5,
                question: "IoT ì „íŒŒ í™˜ê²½ì—ì„œ ì£¼íŒŒìˆ˜ íš¨ìœ¨ì„±ì„ ë†’ì´ëŠ” ê¸°ìˆ ì€?",
                options: ["MIMO", "OFDM", "NOMA", "ëª¨ë“  ìœ„ ê¸°ìˆ "],
                correct: 3,
                explanation: "MIMO, OFDM, NOMA ë“± ëª¨ë“  ê¸°ìˆ ì´ IoT ì „íŒŒ í™˜ê²½ì˜ ì£¼íŒŒìˆ˜ íš¨ìœ¨ì„±ì„ ë†’ì´ëŠ” ë° ê¸°ì—¬í•©ë‹ˆë‹¤."
            }
        ];

        let selectedCharacter = 'cat';

        // ìºë¦­í„° ì„ íƒ
        function selectCharacter(character) {
            selectedCharacter = character;
            
            // ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ë³€ê²½
            document.querySelectorAll('.character-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // ë™í–¥ì¡°ì‚¬ ì¹´ë“œ ë Œë”ë§
            renderTrendCards();
        }

        // ë™í–¥ì¡°ì‚¬ ì¹´ë“œ ë Œë”ë§
        function renderTrendCards() {
            const grid = document.getElementById('trendGrid');
            grid.innerHTML = '';

            trendData.forEach(trend => {
                if (trend.character === selectedCharacter) {
                    const card = createTrendCard(trend);
                    grid.appendChild(card);
                }
            });
        }

        // ë™í–¥ì¡°ì‚¬ ì¹´ë“œ ìƒì„±
        function createTrendCard(trend) {
            const card = document.createElement('div');
            card.className = 'trend-card';
            card.onclick = () => openTrendVideo(trend);

            const characterEmoji = trend.character === 'cat' ? 'ğŸ±' : 'ğŸ•';
            
            card.innerHTML = `
                <div class="video-preview">
                    <div class="character-avatar">${characterEmoji}</div>
                    <div class="play-button">â–¶ï¸</div>
                </div>
                <div class="card-content">
                    <h3>${trend.title}</h3>
                    <p>${trend.description}</p>
                    <div class="card-meta">
                        <span>â±ï¸ ${trend.duration}</span>
                        <span class="difficulty ${trend.difficulty}">${getDifficultyText(trend.difficulty)}</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${trend.progress}%"></div>
                    </div>
                    <small>ì§„í–‰ë¥ : ${trend.progress}%</small>
                </div>
            `;

            return card;
        }

        // ë‚œì´ë„ í…ìŠ¤íŠ¸ ë³€í™˜
        function getDifficultyText(difficulty) {
            const difficultyMap = {
                'easy': 'ì´ˆê¸‰',
                'medium': 'ì¤‘ê¸‰',
                'hard': 'ê³ ê¸‰'
            };
            return difficultyMap[difficulty] || difficulty;
        }

        // ë™í–¥ì¡°ì‚¬ ëª¨ë‹¬ ì—´ê¸°
        function openTrendVideo(trend) {
            currentTrend = trend;
            setupModal(trend);
            showTrendModal();
        }

        // í˜„ì¬ ì„ íƒëœ ë™í–¥ì¡°ì‚¬
        let currentTrend = null;
        let videoProgress = 0;
        let isVideoPlaying = false;

        // ëª¨ë‹¬ ì„¤ì •
        function setupModal(trend) {
            const characterEmoji = trend.character === 'cat' ? 'ğŸ±' : 'ğŸ•';
            const characterName = trend.character === 'cat' ? 'ê³ ì–‘ì´' : 'ê°•ì•„ì§€';
            
            document.getElementById('modalCharacter').textContent = characterEmoji;
            document.getElementById('modalTitleText').textContent = trend.title;
            document.getElementById('modalDuration').textContent = `â±ï¸ ${trend.duration}`;
            document.getElementById('modalProgress').textContent = trend.progress;
            document.getElementById('videoDescription').textContent = `${characterName}ê°€ ${trend.title}ì„ ì„¤ëª…í•©ë‹ˆë‹¤`;
            
            // ìš”ì•½ ë‚´ìš© ì„¤ì •
            setupSummaryContent(trend);
            
            // í€´ì¦ˆ ì„¤ì •
            setupModalQuiz(trend);
            
            // íƒ­ ì´ˆê¸°í™”
            switchTab('video');
        }

        // ìš”ì•½ ë‚´ìš© ì„¤ì •
        function setupSummaryContent(trend) {
            const summaries = {
                "6G ì „íŒŒ ê¸°ìˆ  ë°œì „ ë™í–¥": `
                    <h4>ğŸ”¬ 6G í•µì‹¬ ê¸°ìˆ  ìš”ì†Œ</h4>
                    <ul>
                        <li><strong>í…Œë¼í—¤ë¥´ì¸  ëŒ€ì—­</strong>: 100GHz ì´ìƒ ì£¼íŒŒìˆ˜ í™œìš©</li>
                        <li><strong>AI í†µí•©</strong>: ë„¤íŠ¸ì›Œí¬ ìµœì í™” ë° ìì› ê´€ë¦¬</li>
                        <li><strong>í™€ë¡œê·¸ë¨ í†µì‹ </strong>: 3D ì˜ìƒ ì „ì†¡ ê¸°ìˆ </li>
                        <li><strong>ì–‘ì í†µì‹ </strong>: ë³´ì•ˆì„± ê°•í™”</li>
                    </ul>
                    
                    <h4>ğŸŒ êµ­ì œ í‘œì¤€í™” ë™í–¥</h4>
                    <ul>
                        <li><strong>ITU-R</strong>: 6G ë¹„ì „ ë° ìš”êµ¬ì‚¬í•­ ì •ì˜</li>
                        <li><strong>3GPP</strong>: Release 19-20ì—ì„œ 6G ì—°êµ¬ ì‹œì‘</li>
                        <li><strong>Next G Alliance</strong>: ë¶ë¯¸ 6G ì´ë‹ˆì…”í‹°ë¸Œ</li>
                        <li><strong>6G Flagship</strong>: í•€ë€ë“œ ì£¼ë„ ì—°êµ¬ í”„ë¡œê·¸ë¨</li>
                    </ul>
                    
                    <h4>ğŸ“… ê°œë°œ ë¡œë“œë§µ</h4>
                    <ul>
                        <li><strong>2024-2026</strong>: ê¸°ìˆ  ì—°êµ¬ ë° ê°œë… ê²€ì¦</li>
                        <li><strong>2027-2029</strong>: í‘œì¤€í™” ë° í”„ë¡œí† íƒ€ì…</li>
                        <li><strong>2030</strong>: ìƒìš©í™” ì‹œì‘</li>
                    </ul>
                `,
                "ìŠ¤í™íŠ¸ëŸ¼ ì •ì±… ë° í• ë‹¹ í˜„í™©": `
                    <h4>ğŸ“¡ ì£¼ìš” ì£¼íŒŒìˆ˜ ëŒ€ì—­</h4>
                    <ul>
                        <li><strong>Sub-6GHz</strong>: 3.4-3.8GHz, 4.4-4.9GHz</li>
                        <li><strong>ë°€ë¦¬ë¯¸í„°íŒŒ</strong>: 24.25-27.5GHz, 37-43.5GHz</li>
                        <li><strong>í…Œë¼í—¤ë¥´ì¸ </strong>: 95GHz-3THz (6G í›„ë³´)</li>
                    </ul>
                    
                    <h4>ğŸ›ï¸ ì •ì±… ë™í–¥</h4>
                    <ul>
                        <li><strong>êµ­ì œ ì¡°í™”</strong>: ITU WRC-23 ê²°ê³¼ ë°˜ì˜</li>
                        <li><strong>ì‚°ì—… í˜‘ë ¥</strong>: ë¯¼ê´€ í˜‘ë ¥ ì²´ê³„ êµ¬ì¶•</li>
                        <li><strong>ê¸°ìˆ  ì¤‘ë¦½</strong>: ì„œë¹„ìŠ¤ë³„ ì œí•œ ì™„í™”</li>
                    </ul>
                `,
                "ì „íŒŒí™˜ê²½ ë³€í™”ì™€ ì „ìíŒŒ ì•ˆì „": `
                    <h4>âš ï¸ ì „ìíŒŒ ì•ˆì „ ê¸°ì¤€</h4>
                    <ul>
                        <li><strong>ICNIRP ê°€ì´ë“œë¼ì¸</strong>: êµ­ì œ í‘œì¤€</li>
                        <li><strong>í•œêµ­ ê¸°ì¤€</strong>: ì „ìíŒŒ ì¸ì²´ë³´í˜¸ ê¸°ì¤€</li>
                        <li><strong>5G íŠ¹í™”</strong>: ë°€ë¦¬ë¯¸í„°íŒŒ ì•ˆì „ì„± ì—°êµ¬</li>
                    </ul>
                    
                    <h4>ğŸ”¬ ìµœì‹  ì—°êµ¬ ê²°ê³¼</h4>
                    <ul>
                        <li><strong>WHO ì—°êµ¬</strong>: ì „ìíŒŒì™€ ê±´ê°• ì˜í–¥</li>
                        <li><strong>êµ­ë‚´ ì—°êµ¬</strong>: í•œêµ­ì „ìí†µì‹ ì—°êµ¬ì›</li>
                        <li><strong>ì‚°í•™ í˜‘ë ¥</strong>: ëŒ€í•™ ì—°êµ¬ì†Œì™€ì˜ ê³µë™ ì—°êµ¬</li>
                    </ul>
                `
            };
            
            const summaryContent = summaries[trend.title] || `
                <h4>ğŸ“š ${trend.title}</h4>
                <p>${trend.description}</p>
                <p>ì´ ë™í–¥ì¡°ì‚¬ëŠ” ${trend.duration} ë™ì•ˆ ${characterName}ì™€ í•¨ê»˜ í•™ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            `;
            
            document.getElementById('summaryContent').innerHTML = summaryContent;
        }

        // ëª¨ë‹¬ í€´ì¦ˆ ì„¤ì •
        function setupModalQuiz(trend) {
            const quizQuestions = {
                "6G ì „íŒŒ ê¸°ìˆ  ë°œì „ ë™í–¥": {
                    question: "6G ì „íŒŒ ê¸°ìˆ ì—ì„œ í…Œë¼í—¤ë¥´ì¸  ëŒ€ì—­ì˜ ì£¼ìš” íŠ¹ì§•ì€?",
                    options: ["ë„“ì€ ëŒ€ì—­í­ê³¼ ë†’ì€ ì „ì†¡ë¥ ", "ê¸´ ì „íŒŒ ê±°ë¦¬", "ë‚®ì€ ì „ë ¥ ì†Œëª¨", "ê°„ì„­ ì €í•­ì„±"],
                    correct: 0,
                    explanation: "í…Œë¼í—¤ë¥´ì¸  ëŒ€ì—­ì€ ë§¤ìš° ë„“ì€ ëŒ€ì—­í­ì„ ì œê³µí•˜ì—¬ ì´ˆê³ ì† ë°ì´í„° ì „ì†¡ì´ ê°€ëŠ¥í•˜ì§€ë§Œ, ì „íŒŒ ê±°ë¦¬ëŠ” ì§§ê³  ì „ë ¥ ì†Œëª¨ê°€ ë†’ì€ íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤."
                },
                "ìŠ¤í™íŠ¸ëŸ¼ ì •ì±… ë° í• ë‹¹ í˜„í™©": {
                    question: "5G/6G ì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ ì£¼íŒŒìˆ˜ í• ë‹¹ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê³ ë ¤ì‚¬í•­ì€?",
                    options: ["ê²½ì œì  ê°€ì¹˜", "ê¸°ìˆ ì  íš¨ìœ¨ì„±", "êµ­ì œ í‘œì¤€í™”", "ëª¨ë“  ìœ„ ìš”ì†Œ"],
                    correct: 3,
                    explanation: "ìŠ¤í™íŠ¸ëŸ¼ í• ë‹¹ì€ ê²½ì œì  ê°€ì¹˜, ê¸°ìˆ ì  íš¨ìœ¨ì„±, êµ­ì œ í‘œì¤€í™”ë¥¼ ëª¨ë‘ ê³ ë ¤í•´ì•¼ í•˜ëŠ” ë³µí•©ì ì¸ ë¬¸ì œì…ë‹ˆë‹¤."
                },
                "ì „íŒŒí™˜ê²½ ë³€í™”ì™€ ì „ìíŒŒ ì•ˆì „": {
                    question: "ì „ìíŒŒ ì•ˆì „ ê¸°ì¤€ì„ ì •í•˜ëŠ” êµ­ì œ ê¸°êµ¬ëŠ”?",
                    options: ["ITU", "WHO", "ICNIRP", "3GPP"],
                    correct: 2,
                    explanation: "ICNIRP(êµ­ì œë¹„ì´ì˜¨í™”ë°©ì‚¬ì„ ë°©í˜¸ìœ„ì›íšŒ)ê°€ ì „ìíŒŒ ì•ˆì „ ê¸°ì¤€ì„ ì œì •í•©ë‹ˆë‹¤."
                }
            };
            
            const quiz = quizQuestions[trend.title] || {
                question: `${trend.title}ì— ëŒ€í•œ ê¸°ë³¸ ì§ˆë¬¸ì…ë‹ˆë‹¤.`,
                options: ["ì˜µì…˜ 1", "ì˜µì…˜ 2", "ì˜µì…˜ 3", "ì˜µì…˜ 4"],
                correct: 0,
                explanation: "ì •ë‹µì— ëŒ€í•œ ì„¤ëª…ì…ë‹ˆë‹¤."
            };
            
            const quizHTML = `
                <h4>${quiz.question}</h4>
                ${quiz.options.map((option, index) => `
                    <div class="modal-quiz-option" onclick="selectModalQuizOption(this, ${index}, ${quiz.correct})">
                        ${String.fromCharCode(65 + index)}. ${option}
                    </div>
                `).join('')}
            `;
            
            document.getElementById('modalQuizOptions').innerHTML = quizHTML;
            document.getElementById('modalExplanation').innerHTML = `<strong>ì •ë‹µ: ${String.fromCharCode(65 + quiz.correct)}. ${quiz.options[quiz.correct]}</strong><br>${quiz.explanation}`;
        }

        // ëª¨ë‹¬ í€´ì¦ˆ ì˜µì…˜ ì„ íƒ
        function selectModalQuizOption(element, selectedIndex, correctIndex) {
            const options = element.parentElement.querySelectorAll('.modal-quiz-option');
            
            options.forEach((option, index) => {
                option.classList.remove('correct', 'incorrect');
                if (index === correctIndex) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && index !== correctIndex) {
                    option.classList.add('incorrect');
                }
            });
            
            // ì •ë‹µ ì„¤ëª… í‘œì‹œ
            document.getElementById('modalExplanation').classList.add('show');
            
            // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
            if (selectedIndex === correctIndex) {
                videoProgress = Math.min(videoProgress + 25, 100);
                updateModalProgress();
            }
        }

        // ëª¨ë‹¬ ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        function updateModalProgress() {
            document.getElementById('modalProgress').textContent = videoProgress;
        }

        // ëª¨ë‹¬ í‘œì‹œ
        function showTrendModal() {
            document.getElementById('trendModal').style.display = 'flex';
            setTimeout(() => {
                document.getElementById('trendModal').classList.add('show');
            }, 10);
            
            // ESC í‚¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            document.addEventListener('keydown', handleEscapeKey);
            
            // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            document.getElementById('trendModal').addEventListener('click', handleModalOutsideClick);
        }

        // ESC í‚¤ ì²˜ë¦¬
        function handleEscapeKey(event) {
            if (event.key === 'Escape') {
                closeTrendModal();
            }
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì²˜ë¦¬
        function handleModalOutsideClick(event) {
            if (event.target.id === 'trendModal') {
                closeTrendModal();
            }
        }

        // ëª¨ë‹¬ ë‹«ê¸°
        function closeTrendModal() {
            document.getElementById('trendModal').classList.remove('show');
            setTimeout(() => {
                document.getElementById('trendModal').style.display = 'none';
            }, 300);
            
            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°
            document.removeEventListener('keydown', handleEscapeKey);
            document.getElementById('trendModal').removeEventListener('click', handleModalOutsideClick);
            
            // ë™ì˜ìƒ ìƒíƒœ ë¦¬ì…‹
            isVideoPlaying = false;
            videoProgress = 0;
        }

        // íƒ­ ì „í™˜
        function switchTab(tabName) {
            // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
            document.querySelectorAll('.modal-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // ì„ íƒëœ íƒ­ í™œì„±í™”
            event.target.classList.add('active');
            document.getElementById(tabName + 'Tab').classList.add('active');
        }

        // ë™ì˜ìƒ ì¬ìƒ
        function playVideo() {
            if (!isVideoPlaying) {
                isVideoPlaying = true;
                const placeholder = document.getElementById('videoPlaceholder');
                placeholder.innerHTML = `
                    <h3>ğŸ¬ ë™ì˜ìƒ ì¬ìƒ ì¤‘...</h3>
                    <p>${currentTrend.character === 'cat' ? 'ê³ ì–‘ì´' : 'ê°•ì•„ì§€'}ê°€ ${currentTrend.title}ì„ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤</p>
                    <div style="margin-top: 20px;">
                        <div style="width: 200px; height: 4px; background: rgba(255,255,255,0.3); border-radius: 2px; margin: 0 auto;">
                            <div style="width: 60%; height: 100%; background: white; border-radius: 2px;"></div>
                        </div>
                    </div>
                `;
                
                // ì§„í–‰ë¥  ì¦ê°€ ì‹œë®¬ë ˆì´ì…˜
                const progressInterval = setInterval(() => {
                    if (videoProgress < 100 && isVideoPlaying) {
                        videoProgress += 2;
                        updateModalProgress();
                    } else {
                        clearInterval(progressInterval);
                        isVideoPlaying = false;
                    }
                }, 1000);
            }
        }

        // ë™ì˜ìƒ ì¼ì‹œì •ì§€
        function pauseVideo() {
            isVideoPlaying = false;
            const placeholder = document.getElementById('videoPlaceholder');
            placeholder.innerHTML = `
                <h3>â¸ï¸ ë™ì˜ìƒ ì¼ì‹œì •ì§€</h3>
                <p>${currentTrend.character === 'cat' ? 'ê³ ì–‘ì´' : 'ê°•ì•„ì§€'}ê°€ ì ì‹œ ì‰¬ê³  ìˆìŠµë‹ˆë‹¤</p>
            `;
        }

        // ë™ì˜ìƒ ë¦¬ì…‹
        function resetVideo() {
            isVideoPlaying = false;
            videoProgress = 0;
            updateModalProgress();
            const placeholder = document.getElementById('videoPlaceholder');
            const characterName = currentTrend.character === 'cat' ? 'ê³ ì–‘ì´' : 'ê°•ì•„ì§€';
            placeholder.innerHTML = `
                <h3>ë™ì˜ìƒì„ ì¬ìƒí•˜ë ¤ë©´ í´ë¦­í•˜ì„¸ìš”</h3>
                <p>${characterName}ê°€ ${currentTrend.title}ì„ ì„¤ëª…í•©ë‹ˆë‹¤</p>
            `;
        }

        // ë™í–¥ì¡°ì‚¬ ì™„ë£Œ
        function completeTrend() {
            if (videoProgress >= 80) {
                alert(`ğŸ‰ ${currentTrend.title} í•™ìŠµì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!\n\nì§„í–‰ë¥ : ${videoProgress}%\nìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤!`);
                
                // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
                currentTrend.progress = 100;
                updateTrendProgress(currentTrend.id);
                
                closeTrendModal();
            } else {
                alert(`âš ï¸ í•™ìŠµì„ ì™„ë£Œí•˜ë ¤ë©´ ìµœì†Œ 80% ì´ìƒ ì§„í–‰í•´ì•¼ í•©ë‹ˆë‹¤.\n\ní˜„ì¬ ì§„í–‰ë¥ : ${videoProgress}%`);
            }
        }

        // ë™í–¥ì¡°ì‚¬ ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        function updateTrendProgress(trendId) {
            const trend = trendData.find(t => t.id === trendId);
            if (trend) {
                trend.progress = 100;
                renderTrendCards(); // ì¹´ë“œ ë‹¤ì‹œ ë Œë”ë§
            }
        }

        // í€´ì¦ˆ ë Œë”ë§
        function renderQuizzes() {
            const grid = document.getElementById('quizGrid');
            grid.innerHTML = '';

            quizData.forEach(quiz => {
                const card = createQuizCard(quiz);
                grid.appendChild(card);
            });
        }

        // í€´ì¦ˆ ì¹´ë“œ ìƒì„±
        function createQuizCard(quiz) {
            const card = document.createElement('div');
            card.className = 'quiz-card';

            card.innerHTML = `
                <h4>${quiz.question}</h4>
                <div class="quiz-options">
                    ${quiz.options.map((option, index) => `
                        <div class="quiz-option" onclick="selectQuizOption(this, ${index}, ${quiz.correct})">
                            ${String.fromCharCode(65 + index)}. ${option}
                        </div>
                    `).join('')}
                </div>
            `;

            return card;
        }

        // í€´ì¦ˆ ì˜µì…˜ ì„ íƒ
        function selectQuizOption(element, selectedIndex, correctIndex) {
            const options = element.parentElement.querySelectorAll('.quiz-option');
            
            options.forEach((option, index) => {
                option.classList.remove('correct', 'incorrect');
                if (index === correctIndex) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && index !== correctIndex) {
                    option.classList.add('incorrect');
                }
            });

            // ì •ë‹µ ì„¤ëª… í‘œì‹œ
            const quiz = quizData.find(q => q.options[selectedIndex] === element.textContent.split('. ')[1]);
            if (quiz) {
                setTimeout(() => {
                    alert(`ì •ë‹µ: ${quiz.options[correctIndex]}\n\nì„¤ëª…: ${quiz.explanation}`);
                }, 500);
            }
        }

        // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
        function checkLoginStatus() {
            const isLoggedIn = sessionStorage.getItem('isLoggedIn');
            if (isLoggedIn !== 'true') {
                // ë¡œê·¸ì¸ë˜ì§€ ì•Šì€ ê²½ìš° ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
                window.location.href = 'login.html';
                return;
            }
            
            // ì‚¬ìš©ì ì •ë³´ í‘œì‹œ
            displayUserInfo();
        }

        // ì‚¬ìš©ì ì •ë³´ í‘œì‹œ
        function displayUserInfo() {
            const userName = sessionStorage.getItem('userName') || 'ì‚¬ìš©ì';
            const department = sessionStorage.getItem('department') || 'ë¶€ì„œ';
            const employeeId = sessionStorage.getItem('employeeId') || '';
            
            document.getElementById('userName').textContent = userName;
            document.getElementById('userDept').textContent = department;
            document.getElementById('userAvatar').textContent = userName.charAt(0);
            
            // ì‚¬ë²ˆì„ ì œëª©ì— ì¶”ê°€
            const titleElement = document.querySelector('.header h1');
            titleElement.innerHTML = `ğŸ±ğŸ• ì „íŒŒ ë™í–¥ì¡°ì‚¬ ë¸Œë¦¬í•‘ <small style="font-size: 0.6em; opacity: 0.8;">(${employeeId})</small>`;
        }

        // ë¡œê·¸ì•„ì›ƒ
        function logout() {
            if (confirm('ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                sessionStorage.clear();
                window.location.href = 'login.html';
            }
        }

        // API í‚¤ ì„¤ì • ëª¨ë‹¬ í‘œì‹œ
        function showApiKeyModal() {
            const modal = document.createElement('div');
            modal.className = 'api-key-modal';
            modal.innerHTML = `
                <div class="api-key-content">
                    <h3>ğŸ”‘ fal API í‚¤ ì„¤ì •</h3>
                    <p>AI ë™ì˜ìƒ ìƒì„±ì„ ìœ„í•´ fal API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
                    <div class="form-group">
                        <label for="falApiKey">fal API í‚¤:</label>
                        <input type="password" id="falApiKey" placeholder="fal_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" />
                    </div>
                    <div class="form-actions">
                        <button onclick="saveApiKey()" class="save-btn">ğŸ’¾ ì €ì¥</button>
                        <button onclick="closeApiKeyModal()" class="cancel-btn">âŒ ì·¨ì†Œ</button>
                    </div>
                    <div class="api-key-help">
                        <p><strong>API í‚¤ ë°œê¸‰ ë°©ë²•:</strong></p>
                        <ol>
                            <li><a href="https://fal.ai/" target="_blank">fal.ai</a>ì— ê°€ì…</li>
                            <li>ëŒ€ì‹œë³´ë“œì—ì„œ API í‚¤ ìƒì„±</li>
                            <li>ìƒì„±ëœ í‚¤ë¥¼ ìœ„ì— ì…ë ¥</li>
                        </ol>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // API í‚¤ ì €ì¥
        function saveApiKey() {
            const apiKey = document.getElementById('falApiKey').value.trim();
            if (!apiKey) {
                alert('API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // API í‚¤ ì €ì¥
            localStorage.setItem('falApiKey', apiKey);
            
            // fal ì„œë¹„ìŠ¤ì— API í‚¤ ì„¤ì •
            if (window.falVideoService) {
                window.falVideoService.setApiKey(apiKey);
            }
            
            alert('API í‚¤ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
            closeApiKeyModal();
        }

        // API í‚¤ ëª¨ë‹¬ ë‹«ê¸°
        function closeApiKeyModal() {
            const modal = document.querySelector('.api-key-modal');
            if (modal) {
                modal.remove();
            }
        }

        // AI ë™ì˜ìƒ ìƒì„±
        async function generateAIVideo() {
            const prompt = document.getElementById('videoPrompt').value.trim();
            const duration = parseInt(document.getElementById('videoDuration').value);
            const quality = document.getElementById('videoQuality').value;
            
            if (!prompt) {
                alert('ë™ì˜ìƒ ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // API í‚¤ í™•ì¸
            const apiKey = localStorage.getItem('falApiKey');
            if (!apiKey) {
                alert('fal API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. API í‚¤ë¥¼ ë¨¼ì € ì„¤ì •í•´ì£¼ì„¸ìš”.');
                showApiKeyModal();
                return;
            }

            // fal ì„œë¹„ìŠ¤ ì´ˆê¸°í™”
            if (!window.falVideoService) {
                // fal ì„œë¹„ìŠ¤ê°€ ë¡œë“œë˜ì§€ ì•Šì€ ê²½ìš° ì§ì ‘ ì´ˆê¸°í™”
                window.falVideoService = {
                    apiKey: apiKey,
                    baseUrl: 'https://fal.run/fal-ai',
                    async generateVideoFromText(prompt, options) {
                        try {
                            const response = await fetch(`${this.baseUrl}/text-to-video`, {
                                method: 'POST',
                                headers: {
                                    'Authorization': `Key ${this.apiKey}`,
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify({
                                    prompt: prompt,
                                    duration: options.duration || 10,
                                    quality: options.quality || 'high'
                                })
                            });

                            if (!response.ok) {
                                throw new Error(`API ìš”ì²­ ì‹¤íŒ¨: ${response.status}`);
                            }

                            const result = await response.json();
                            return {
                                success: true,
                                videoUrl: result.video_url || result.url,
                                duration: result.duration || options.duration,
                                prompt: prompt
                            };
                        } catch (error) {
                            console.error('ë™ì˜ìƒ ìƒì„± ì˜¤ë¥˜:', error);
                            return {
                                success: false,
                                error: error.message
                            };
                        }
                    }
                };
            }

            // UI ìƒíƒœ ë³€ê²½
            const generateBtn = document.getElementById('generateBtn');
            const progressDiv = document.getElementById('generationProgress');
            const formDiv = document.getElementById('aiVideoForm');
            
            generateBtn.disabled = true;
            generateBtn.textContent = 'ğŸ¬ ìƒì„± ì¤‘...';
            progressDiv.style.display = 'block';
            formDiv.style.display = 'none';

            try {
                // ë™ì˜ìƒ ìƒì„± ìš”ì²­
                const result = await window.falVideoService.generateVideoFromText(prompt, {
                    duration: duration,
                    quality: quality
                });

                if (result.success) {
                    // ë™ì˜ìƒ ìƒì„± ì„±ê³µ
                    showGeneratedVideo(result.videoUrl, prompt);
                } else {
                    // ë™ì˜ìƒ ìƒì„± ì‹¤íŒ¨
                    alert(`ë™ì˜ìƒ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${result.error}`);
                    resetVideoForm();
                }
            } catch (error) {
                console.error('ë™ì˜ìƒ ìƒì„± ì¤‘ ì˜¤ë¥˜:', error);
                alert('ë™ì˜ìƒ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                resetVideoForm();
            }
        }

        // ìƒì„±ëœ ë™ì˜ìƒ í‘œì‹œ
        function showGeneratedVideo(videoUrl, prompt) {
            const videoPlayer = document.getElementById('videoPlayer');
            const videoControls = document.getElementById('videoControls');
            const progressDiv = document.getElementById('generationProgress');
            const formDiv = document.getElementById('aiVideoForm');
            
            // ë™ì˜ìƒ ì†ŒìŠ¤ ì„¤ì •
            const video = document.getElementById('generatedVideo');
            video.src = videoUrl;
            
            // ì„¤ëª… ì—…ë°ì´íŠ¸
            document.getElementById('videoDescription').textContent = prompt;
            
            // UI í‘œì‹œ
            videoPlayer.style.display = 'block';
            videoControls.style.display = 'block';
            progressDiv.style.display = 'none';
            formDiv.style.display = 'none';
            
            // ë™ì˜ìƒ ë¡œë“œ ì™„ë£Œ í›„ ìë™ ì¬ìƒ
            video.addEventListener('loadeddata', function() {
                video.play();
            });
        }

        // ë™ì˜ìƒ í¼ ì´ˆê¸°í™”
        function resetVideoForm() {
            const generateBtn = document.getElementById('generateBtn');
            const progressDiv = document.getElementById('generationProgress');
            const formDiv = document.getElementById('aiVideoForm');
            
            generateBtn.disabled = false;
            generateBtn.textContent = 'ğŸ¬ AI ë™ì˜ìƒ ìƒì„±';
            progressDiv.style.display = 'none';
            formDiv.style.display = 'block';
        }

        // ë™ì˜ìƒ ë‹¤ìš´ë¡œë“œ
        function downloadVideo() {
            const video = document.getElementById('generatedVideo');
            if (video.src) {
                const link = document.createElement('a');
                link.href = video.src;
                link.download = 'ai-generated-video.mp4';
                link.click();
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            checkLoginStatus();
            renderTrendCards();
            renderQuizzes();
            
            // ì €ì¥ëœ API í‚¤ê°€ ìˆìœ¼ë©´ fal ì„œë¹„ìŠ¤ì— ì„¤ì •
            const savedApiKey = localStorage.getItem('falApiKey');
            if (savedApiKey && window.falVideoService) {
                window.falVideoService.setApiKey(savedApiKey);
            }
        });
    </script>
</body>
</html>
